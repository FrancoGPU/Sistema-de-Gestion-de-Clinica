<!-- Botón flotante de WhatsApp -->
<a href="https://wa.me/51123456789" class="whatsapp-float" target="_blank">
  <i class="fab fa-whatsapp"></i>
</a>

<!-- CONTENIDO PRINCIPAL -->
<main class="py-5">
  <div class="container">
    <div class="text-center mb-5">
      <h1 class="section-title">Campañas de Salud</h1>
      <p class="section-subtitle">
        Iniciativas de prevención y promoción de la salud comunitaria
      </p>
    </div>

    <!-- Cargando o Error -->
    <div *ngIf="loading" class="text-center py-5">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Cargando campañas...</span>
      </div>
      <p class="mt-3">Cargando campañas...</p>
    </div>

    <div *ngIf="error && !loading" class="alert alert-danger" role="alert">
      {{ error }}
    </div>

    <!-- Campañas desde el backend -->
    <div class="row g-4" *ngIf="!loading && !error">
      <div class="col-lg-6" *ngFor="let campania of campanias">
        <div class="service-card">
          <div class="campaign-header">
            <div class="service-icon">
              <i class="fas fa-heartbeat"></i>
            </div>
            <div class="campaign-content">
              <h4>{{ campania.nombre }}</h4>
              <span
                class="badge"
                [ngClass]="{
                  'bg-success': campania.estado === 'ACTIVA',
                  'bg-warning text-dark': campania.estado === 'PROGRAMADA',
                  'bg-secondary': campania.estado === 'FINALIZADA'
                }"
              >
                {{ campania.estado }}
              </span>
            </div>
          </div>
          <p>{{ campania.descripcion }}</p>
          <ul class="list-unstyled">
            <li>
              <i class="fas fa-calendar me-2"></i
              >{{ campania.fechaInicio | date : "dd/MM/yyyy" }} -
              {{ campania.fechaFin | date : "dd/MM/yyyy" }}
            </li>
            <li>
              <i class="fas fa-map-marker-alt me-2"></i>{{ campania.ubicacion }}
            </li>
            <li>
              <i class="fas fa-users me-2"></i
              >{{ campania.participantesActuales }}/{{
                campania.capacidadMaxima
              }}
              participantes
            </li>
          </ul>
          <button class="btn btn-outline-primary">Más Información</button>
        </div>
      </div>
    </div>

    <!-- Sección de registro -->
    <div class="text-center mt-5">
      <div class="card bg-primary text-white">
        <div class="card-body p-5">
          <h3>¿Quieres recibir información sobre nuestras campañas?</h3>
          <p class="mb-4">
            Suscríbete a nuestro boletín y mantente informado sobre todas
            nuestras iniciativas de salud.
          </p>
          <div class="row justify-content-center">
            <div class="col-md-6">
              <div class="input-group">
                <input
                  type="email"
                  class="form-control"
                  placeholder="Tu correo electrónico"
                  [(ngModel)]="suscripcionEmail"
                />
                <button
                  class="btn btn-light"
                  type="button"
                  (click)="suscribirse()"
                >
                  Suscribirse
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
